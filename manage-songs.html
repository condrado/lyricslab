<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestionar Canciones - Aprende Inglés con Música</title>
  <link rel="stylesheet" href="css/styles.css">
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <header>
    <h1>Aprende Inglés con Música</h1>
    <div class="song-selector">
      <label for="songSelect">Selecciona una canción:</label>
      <div class="selector-wrapper">
        <select id="songSelect">
          <option value="">-- Elige una canción --</option>
        </select>
        <button id="addSongBtn" class="btn-add-song" title="Añadir Nueva Canción">+</button>
      </div>
    </div>

    <!-- Menú hamburguesa -->
    <div class="menu-container">
      <button id="menuBtn" class="menu-btn" title="Menú">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav id="menuDropdown" class="menu-dropdown">
        <a href="index.html" class="menu-item">Reproducir Canciones</a>
        <a href="manage-songs.html" class="menu-item active">Gestionar Canciones</a>
        <a href="verbs.html" class="menu-item">Verbos</a>
      </nav>
    </div>
  </header>

  <main class="manage-page">
    <div class="manage-header">
      <div>
        <h2>Gestionar Canciones</h2>
        <p class="song-count">Total: <span id="totalSongs">0</span> canciones</p>
      </div>
    </div>

    <div id="songsGrid" class="songs-grid">
      <!-- Las canciones se cargarán aquí dinámicamente -->
    </div>

    <div id="emptyState" class="empty-state" style="display: none;">
      <h3>No hay canciones todavía</h3>
      <p>Ve a la página principal y añade tu primera canción</p>
      <a href="index.html" class="back-btn" style="margin-top: 1rem;">Ir a Reproducir</a>
    </div>
  </main>

  <!-- Modal para añadir nueva canción -->
  <div id="addSongModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Añadir Nueva Canción</h3>
        <button class="close-add-song-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="songArtistInput">Artista:</label>
          <input type="text" id="songArtistInput" placeholder="Ej: Linkin Park">
        </div>
        <div class="form-group">
          <label for="songTitleInput">Título de la canción:</label>
          <input type="text" id="songTitleInput" placeholder="Ej: Numb">
        </div>
        <div class="form-group">
          <label for="songYoutubeInput">URL de YouTube:</label>
          <input type="url" id="songYoutubeInput" placeholder="https://www.youtube.com/watch?v=...">
        </div>
        <div class="form-group" id="manualLyricsGroup" style="display: none;">
          <label for="songLyricsInput">Letra de la canción (opcional - añadir manualmente):</label>
          <textarea id="songLyricsInput" rows="6"
            placeholder="Pega aquí la letra de la canción si la API no la encuentra..."></textarea>
          <small style="color: var(--text-secondary);">Puedes buscar la letra en genius.com o azlyrics.com</small>
        </div>
        <div id="fetchLyricsStatus" class="status-message"></div>
      </div>
      <div class="modal-footer">
        <button id="fetchLyricsBtn" class="btn-primary">Obtener Letra Automáticamente</button>
        <button id="addManualLyricsBtn" class="btn-secondary" style="display: none;">Añadir con Letra Manual</button>
        <button id="cancelAddSongBtn" class="btn-secondary">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/lyricsAPI.js"></script>
  <script src="data/songs.js"></script>
  <script src="js/manage-songs.js"></script>

</body>

</html>